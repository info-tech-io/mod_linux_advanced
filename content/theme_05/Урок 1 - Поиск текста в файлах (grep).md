+++
title = "Урок 1. Поиск текста (grep)"
weight = 501
+++
# Урок 1: Поиск текста в файлах (`grep`)

Файлов в системе могут быть тысячи, и многие из них могут быть очень большими. Как найти нужную строчку в конфигурационном файле или в логах? Для этого существует одна из самых известных и мощных утилит в Linux — `grep`.

### Что такое `grep`?

`grep` сканирует содержимое файла (или нескольких файлов) и выводит только те строки, которые содержат указанный вами текстовый шаблон.

Синтаксис простой: `grep [что_ищем] [где_ищем]`

Давайте создадим файл для экспериментов:
```bash
nano fruits.txt
```
Напишите в него:
```
apple
banana
orange
pineapple
grape
```
Сохраните и выйдите (`Ctrl+O`, `Enter`, `Ctrl+X`).

Теперь поищем:
```bash
grep "apple" fruits.txt
```
Вывод:
```
apple
pineapple
```
`grep` нашел все строки, где встречается "apple".

### Полезные флаги `grep`

*   `-i` (ignore case): Игнорировать регистр.
    ```bash
    # Добавим в файл строку "Banana" с большой буквы
    grep -i "banana" fruits.txt
    ```
    Вывод:
    ```
    banana
    Banana
    ```
*   `-v` (invert match): Инвертировать, то есть показать все строки, которые **не** содержат шаблон.
    ```bash
    grep -v "apple" fruits.txt
    ```
    Вывод:
    ```
    banana
    orange
    grape
    ```
*   `-r` (recursive): Искать рекурсивно во всех файлах указанного каталога. Это невероятно удобно для поиска в проектах.
    ```bash
    # Искать слово "error" во всех файлах системного каталога /var/log
    grep -r "error" /var/log/
    ```
*   `-n` (line number): Показывать номер строки, где было найдено совпаде��ие.
    ```bash
    grep -n "apple" fruits.txt
    ```
    Вывод:
    ```
    1:apple
    4:pineapple
    ```
*   `-w` (word): Искать только целые слова.
    ```bash
    grep -w "apple" fruits.txt
    ```
    Вывод:
    ```
    apple
    ```
    `pineapple` не будет найдено, так как "apple" там является лишь частью слова.

### `grep` — это фильтр

Одна из главных суперспособностей `grep` — это его умение работать в качестве фильтра для вывода других команд. Это делается с помощью **конвейера** (`|`), который мы подробно разберем в следующем уроке.

Но вот небольшой пример, чтобы вы почувствовали всю мощь. Команда `ps aux` выводит список всех запущенных в системе процессов. Их очень много. Если мы хотим найти только процесс, связанный с браузером Firefox, мы можем сделать так:
```bash
ps aux | grep "firefox"
```
Команда `ps` выводит свой результат не на экран, а "на ��ход" команде `grep`, которая уже фильтрует его и показывает нам только нужные строки.

---
`grep` — это швейцарский нож для работы с текстом. Умение им пользоваться экономит часы работы при анализе логов, поиске в коде или редактировании конфигураций.

**В следующем уроке мы подробнее поговорим о магии конвейеров (`|`), которые позволяют соединять команды в мощные цепочки.**

{{< button "/theme_05/Урок 2 - Конвейеры (pipelines)/" "Следующий урок" >}}{{< button "/theme_04/Урок 2 - Редактирование в nano/" "Предыдущий урок" >}}