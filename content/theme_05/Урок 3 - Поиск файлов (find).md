+++
title = "Урок 3. Поиск файлов (find)"
weight = 503
+++
# Урок 3: Поиск файлов (`find`): Ищем по имени, размеру и типу

Мы научились искать текст внутри файлов с помощью `grep`. Но что, если нам нужно найти сам файл? Например, найти все `.jpg` изображения в нашей домашней папке или все файлы, измененные за последний час.

Для этого существует команда `find`. Она гораздо мощнее, чем простой поиск в графическом интерфейсе.

Синтаксис `find` немного отличается от других команд. Он выглядит так:
`find [где_искать] [по_каким_критериям] [что_сделать_с_найденным]`

### Как работает `find`?

По умолчанию `find` просто рекурсивно выводи�� список всех файлов и каталогов в у��азанном месте.

```bash
# Осторожно, может быть очень много вывода!
find .
```
Символ `.` означает "искать в текущем каталоге".

Но вся сила `find` раскрывается при использовании критериев.

### Поиск по имени: `-name`

Это самый частый сценарий. Флаг `-name` ищет файлы по имени. Важно **брать шаблон в кавычки**, чтобы его не перехватил и не попытался обработать сам shell.

```bash
# Найти все файлы, заканчивающиеся на .conf
find /etc -name "*.conf"
```
Эта команда будет искать, начиная с корневого каталога `/etc`, все файлы, чье имя соответствует шаблону `*.conf`.

Если вы хотите искать без учета регистра, используйте `-iname` (insensitive name).

### Поиск по типу: `-type`

Иногда нужно найти не просто файл, а, например, только каталоги или только символические ссылки.

*   `find . -type f` — найти только **файлы** (`f`).
*   `find . -type d` — найти только **каталоги** (`d`).

### Поиск по размеру: `-size`

Можно искать файлы по размеру.

*   `find . -type f -size +10M` — найти файлы размером **больше** (`+`) 10 мегабайт (`M`).
*   `find . -type f -size -100k` — найти файлы размером **меньше** (`-`) 100 килобайт (`k`).
*   `find . -type f -size 1G` — найти файлы размером ровно 1 гигабайт (`G`).

### Выполнение команд над найденными файлами: `-exec`

Это самая мощная возможность `find`. Вы можете выполнить любую другую команду для каждого найденного файла.

Синтаксис такой: `-exec [команда] {} \;`
*   `{}` — это специальный символ, который подставляет на свое место имя каждого найденного файла.
*   `\;` — это обязательный символ, который говорит команде `find`, где заканчивается команда для `-exec`.

**Пример: найти все файлы `.bak` (резервные копии) и удалить их.**

```bash
find . -type f -name "*.bak" -exec rm {} \;
```
**Внимание!** Эта команда может быть опасной. `find` найдет все файлы, подходящие под критерии, и для каждого из них выполнит `rm [имя_файла]`.

Более безопасный вариант — использовать флаг `-ok` вместо `-exec`. Он будет запрашивать у вас подтверждение для каждого файла перед выполнением команды.

```bash
find . -type f -name "*.bak" -ok rm {} \;
```

---
`find` — это незаменимый инструмент для поиска файлов по сложным критериям и автоматизации действий над ними.

**Поздравляю с завершением пятого модуля! Вы освоили мощные инструменты поиска и обработки информации. В заключительном учебном модуле мы поговорим об управлении программами и базовом администрировании системы.**

{{< button "/theme_06/Урок 1 - Управление пакетами (apt)/" "Следующий урок" >}}{{< button "/theme_05/Урок 2 - Конвейеры (pipelines)/" "Предыдущий урок" >}}